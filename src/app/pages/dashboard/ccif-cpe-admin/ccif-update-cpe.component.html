<form #agenceForm="ngForm" role="form" (ngSubmit)="save()">
    <div mat-dialog-content>
        <div *ngIf="ShowWindow">
            <h2 mat-dialog-title>Confirmation de suppression</h2>
            <mat-progress-bar *ngIf="_progress" mode="indeterminate"></mat-progress-bar>
            <mat-dialog-content>
                <div>
                    Voulez vous vraiment supprimer cet collecteur ?
                </div>
            </mat-dialog-content>
            <mat-dialog-actions style="float: right;">
                <button mat-raised-button color="warn" [mat-dialog-close]="'CLOSED'">NON</button>
                <button type="button" mat-raised-button color="primary" (click)="DoDel()">OUI</button>
            </mat-dialog-actions>
        </div>
        <div *ngIf="!ShowWindow" style="overflow: visible;">
            <mat-toolbar color="primary">CPE</mat-toolbar>
            <mat-progress-bar *ngIf="_progress" mode="indeterminate"></mat-progress-bar><br/>
            <!-- <mat-form-field class="inputForm" appearance="legacy">
                <mat-label>Référence</mat-label>
                <input matInput name="referenceUtilisateur" [(ngModel)]="model.referenceUtilisateur">
            </mat-form-field> -->

            <mat-form-field class="inputForm" appearance="legacy">
                <mat-label>Nom</mat-label>
                <input matInput name="nom" [(ngModel)]="model.nom">
            </mat-form-field>
            <mat-form-field class="inputForm">
                <input matInput placeholder="Prénom" name="prenom" [(ngModel)]="model.prenom">
            </mat-form-field>
            <mat-form-field class="inputForm">
                <mat-label>Sexe</mat-label>
                <mat-select name="sexe" [(ngModel)]="model.sexe">
                    <mat-option>--</mat-option>
                    <mat-option value="Masculin"> Homme </mat-option>
                    <mat-option value="Feminin"> Femme </mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="inputForm">
                <mat-label>Agence</mat-label>
                <mat-select name="idAgence" [(ngModel)]="model.idAgence">
                    <mat-option>--</mat-option>
                    <mat-option *ngFor="let a of agence" [value]="a.idAgence">{{a.nomAgence}} </mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="inputForm">
                <mat-label>Caissier</mat-label>
                <mat-select name="idCaissier" [(ngModel)]="model.cpe.idCaissier">
                    <mat-option>--</mat-option>
                    <mat-option *ngFor="let o of caissier" [value]="o.idUtilisateur">{{o.nom}} </mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field class="inputForm">
                <input matInput placeholder="Zone Couverte" name="zoneCouverte" [(ngModel)]="model.cpe.zoneCouverte">
            </mat-form-field>
            <mat-form-field class="inputForm">
                <input matInput placeholder="Nom D'Utilisateur" name="login" [(ngModel)]="model.login">
            </mat-form-field>
            <mat-form-field class="inputForm">
                <input matInput placeholder="Contact téléphonique" name="telephone" [(ngModel)]="model.telephone">
            </mat-form-field>
            <mat-form-field class="inputForm" appearance="legacy">
                <input type="password" maxlength="8" matInput placeholder="Mot de passe" maxlength="8" name="password" [(ngModel)]="model.password" style="border: none;  margin-bottom: -2px">
            </mat-form-field>
            <mat-form-field class="inputForm" appearance="legacy">
                <input type="password" maxlength="8" matInput placeholder="Confirmer" maxlength="8" name="confirmer" [(ngModel)]="confirmer" style="border: none; margin-bottom: -2px">
            </mat-form-field>
            <mat-form-field>
                <input placeholder="Photo Collecteur" [(ngModel)]="image_url" disabled name="image_url" matInput #message maxlength="200">
                <button type="button" matSuffix mat-button mat-mini-fab (click)="file.click()">
                <mat-icon>attachment</mat-icon>
              </button>
                <input hidden type="file" #file (change)="onChangeImag()" required />
            </mat-form-field>

        </div>
    </div>

    <div mat-dialog-actions class="pull-right" *ngIf="!ShowWindow">
        <button mat-raised-button [mat-dialog-close]="'CLOSED'">ANNULER</button> &nbsp;&nbsp;
        <button mat-raised-button style="background: #08c" type="submit" class="button">
                  Valider
                </button>
    </div>
</form>