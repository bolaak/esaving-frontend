<div class="container"><br/>
    <mat-toolbar color="primary" style="width:92%">
        <span class="fill-remaining-space">Relev√© Par Agences</span>
    </mat-toolbar>

    <mat-form-field class="inputForm" style="width:45%">
        <mat-label>Agence</mat-label>
        <mat-select name="idAgence" [(ngModel)]="idAgence" (selectionChange)="_getDatas()">
            <mat-option>--</mat-option>
            <mat-option *ngFor="let a of agence" [value]="a.idAgence">{{a.nomAgence}} </mat-option>
        </mat-select>
    </mat-form-field>
    <table mat-table [dataSource]="data" class="mat-elevation-z8">
        <mat-progress-bar *ngIf="_progress" mode="indeterminate"></mat-progress-bar>
        <!-- Name Column -->
        <ng-container matColumnDef="commission">
            <th mat-header-cell *matHeaderCellDef>COMMISSION</th>
            <td mat-cell *matCellDef="let item"> {{item?.montantTotalCommissions | currency:'XAF':'symbol':'2.0-3':'fr'}} </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="retrait">
            <th mat-header-cell *matHeaderCellDef> RETRAITS </th>
            <td mat-cell *matCellDef="let item"> {{item?.montantTotalRetire | currency:'XAF':'symbol':'2.0-3':'fr'}} </td>
        </ng-container>

        <!-- Weight Column -->
        <ng-container matColumnDef="tontine">
            <th mat-header-cell *matHeaderCellDef> MISES </th>
            <td mat-cell *matCellDef="let item"> {{item?.montantTotalTontine | currency:'XAF':'symbol':'2.0-3':'fr'}} </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="versement">
            <th mat-header-cell *matHeaderCellDef> VERSEMENTS </th>
            <td mat-cell *matCellDef="let item"> {{item?.montantTotalVerse | currency:'XAF':'symbol':'2.0-3':'fr'}} </td>
        </ng-container>
        <!-- Symbol Column -->
        <ng-container matColumnDef="clients">
            <th mat-header-cell *matHeaderCellDef> CLIENTS </th>
            <td mat-cell *matCellDef="let item"> {{item?.nbreClients | number }} </td>
        </ng-container>
        <!-- Symbol Column -->
        <ng-container matColumnDef="collecteurs">
            <th mat-header-cell *matHeaderCellDef> COLLECTEURS </th>
            <td mat-cell *matCellDef="let item"> {{item?.nbreCpes | number }} </td>
        </ng-container>
        <!-- Symbol Column -->
        <ng-container matColumnDef="souscription">
            <th mat-header-cell *matHeaderCellDef> ADHESION </th>
            <td mat-cell *matCellDef="let item"> {{item?.nbreSouscriptions | number }} </td>
        </ng-container>
        <!-- Symbol Column -->
        <ng-container matColumnDef="encours">
            <th mat-header-cell *matHeaderCellDef> EN COURS </th>
            <td mat-cell *matCellDef="let item"> {{item?.nbreTontineEnCours | number }} </td>
        </ng-container>
        <!-- Symbol Column -->
        <ng-container matColumnDef="expirees">
            <th mat-header-cell *matHeaderCellDef> EXPIREES </th>
            <td mat-cell *matCellDef="let item"> {{item?.nbreTontineExpire | number }} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator showFirstLastButtons></mat-paginator>
</div>
